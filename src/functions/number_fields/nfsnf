Function: nfsnf
Section: number_fields
C-Name: nfsmith
Prototype: GG
Help: nfsnf(nf,x): if x=[A,I,J], outputs [c_1,...c_n] Smith normal form of x.
Doc: given a torsion module $x$ as a 3-component row
 vector $[A,I,J]$ where $A$ is a square invertible $n\times n$ matrix, $I$ and
 $J$ are two ideal lists, outputs an ideal list $d_1,\dots,d_n$ which is the
 \idx{Smith normal form} of $x$. In other words, $x$ is isomorphic to
 $\Z_K/d_1\oplus\cdots\oplus\Z_K/d_n$ and $d_i$ divides $d_{i-1}$ for $i\ge2$.
 The link between $x$ and $[A,I,J]$ is as follows: if $e_i$ is the canonical
 basis of $K^n$, $I=[b_1,\dots,b_n]$ and $J=[a_1,\dots,a_n]$, then $x$ is
 isomorphic to
 $$ (b_1e_1\oplus\cdots\oplus b_ne_n) / (a_1A_1\oplus\cdots\oplus a_nA_n)
 \enspace, $$
 where the $A_j$ are the columns of the matrix $A$. Note that every finitely
 generated torsion module can be given in this way, and even with $b_i=Z_K$
 for all $i$.
