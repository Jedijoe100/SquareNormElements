Function: idealred
Section: number_fields
C-Name: ideallllred
Prototype: GGDG
Help: idealred(nf,I,{vdir=0}): LLL reduction of the ideal I in the number
 field nf along direction vdir, in HNF
Doc: \idx{LLL} reduction of
 the ideal $I$ in the number field \var{nf}, along the direction \var{vdir}.
 If \var{vdir} is present, it must be an $r1+r2$-component vector ($r1$ and
 $r2$ number of real and complex places of \var{nf} as usual).

 This function finds a ``small'' $a$ in $I$ (it is an LLL pseudo-minimum
 along direction \var{vdir}). The result is the Hermite normal form of
 the LLL-reduced ideal $J = r I/a$, where $r$ the unique rational number such
 that $J$ is integral and primitive. (This is often, but not always, a
 reduced ideal in the sense of \idx{Buchmann}.)
 \bprog
 ? K = nfinit(y^2+1);
 ? P = idealprimedec(K,5)[1];
 ? idealred(K, P)
 %3 =
 [1 0]

 [0 1]
 @eprog\noindent More often than not, a \idx{principal ideal} yields the unit
 ideal as above. This is a quick and dirty way to check if ideals are principal,
 but it is not a necessary condition: a non-trivial result does not prove that
 the ideal is non-principal. For guaranteed results, see \kbd{bnfisprincipal},
 which requires the computation of a full \kbd{bnf} structure.
 
 If the input is an extended ideal $[I,s]$, the output is $[J,sa/r]$; this way,
 one can keep track of the principal ideal part:
 \bprog
 ? idealred(K, [P, 1])
 %5 = [[1, 0; 0, 1], [-2, 1]~]
 @eprog\noindent
 meaning that $P$ is generated by $[-2, 1]~$. The number field element in the
 extended part is an algebraic number in any form \emph{or} a factorization
 matrix (in terms of number field elements, not ideals!). In the latter case,
 elements stay in factored form, which is a convenient way to avoid
 coefficient explosion.
