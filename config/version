# Major version number
VersionMajor='2'

# minor version number
VersionMinor='6'

# Patch level
patch='1'

# Version code
version_code=`expr $VersionMajor \\* 65536 + $VersionMinor \\* 256 + $patch`

# Status: alpha, beta, released, development. Rewritten by config/settar !
stat=development

# soname of stable libpari.so is libpari.so.$soname_num
status="$stat"
patchlevel_verbose=

case "$stat" in # $stat rewritten by config/settar ?
  *git-*) patchlevel_verbose="[ $stat ]";;
  *) if test -d "$TOP/.git"; then
       t=`git describe 2>/dev/null`
       if test -n "$t"; then # else empty: git describe not implemented ?
         T=`echo $t | sed -e 's/.*-\([0-9]*\)-g\([a-f0-9]*\)$/\1-\2/'`
         if test $t = $T; then # didn't match, annotated tag: rewrite 0-hash
           T=0-`git log -1 --pretty=format:%h`
         fi
         vcsversion=$T
         status="$stat $T"
         patchlevel_verbose="[ $status ]"
        fi
     fi
esac
version=$VersionMajor.$VersionMinor
pari_release="$version.$patch"
if test `expr $VersionMinor % 2` = 1; then
  pari_release_verbose="$pari_release (STABLE)"
  soname_num=`expr '(' $VersionMinor '+' 1 ')' / 2`
else
  pari_release_verbose="$pari_release (DEVELOPMENT VERSION)"
  soname_num=$patch
fi
